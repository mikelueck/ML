syntax = "proto3";
option go_package = "github.com/canbiocin/proto";

import "canbiocin/proto/recipe.proto";
import "canbiocin/proto/probiotics.proto";
import "canbiocin/proto/prebiotics.proto";
import "canbiocin/proto/postbiotics.proto";
import "canbiocin/proto/other.proto";
import "google/protobuf/timestamp.proto";


message CreateIngredientRequest {
    Ingredient ingredient = 1;
}

message CreateIngredientResponse {
    string id = 1;
}

message GetIngredientRequest {
    string id = 1;
    string type = 2;
}
message GetIngredientResponse {
    Ingredient ingredient = 1;
}

message UpdateIngredientRequest {
    Ingredient ingredient = 1;
}

message UpdateIngredientResponse {
}

message DeleteIngredientRequest {
    string id = 1;
    string type = 2;
}

message DeleteIngredientResponse {
}

message ListIngredientsRequest {
}

message ListIngredientsResponse {
    repeated Ingredient ingredients = 1;
}

message ListProbioticSppRequest {
}

message ListProbioticSppResponse {
  repeated string spps = 1;
}

message ListPrebioticCategoryRequest {
}

message ListPrebioticCategoryResponse {
  repeated string categories = 1;
}

message CreateRecipeRequest {
    Recipe recipe = 1;
}

message CreateRecipeResponse {
    string id = 1;
}

message GetRecipeRequest {
    string id = 1;
}

message GetRecipeResponse {
    Recipe recipe = 1;
    repeated Probiotic probiotics = 2;
    repeated Prebiotic prebiotics = 3;
    repeated Postbiotic postbiotics = 4;
}

message UpdateRecipeRequest {
    Recipe recipe = 1;
}

message UpdateRecipeResponse {
}

message DeleteRecipeRequest {
    string id = 1;
}

message DeleteRecipeResponse {
}

message ListRecipesRequest {
  string ingredientId = 1;
}

message ListRecipesResponse {
    repeated Recipe recipes = 1;
}

message CalculateRecipeRequest {
  string recipe_id = 1;
  int32 serving_size_grams = 2;
  int32 total_grams = 3;
  Container container = 4;
  Shipping shipping = 9;
  repeated Packaging packaging = 7;
  int32 container_size_grams = 6;
  int32 target_margin = 5;
  double currency_rate = 8;
}

message CalculateRecipeResponse {
  RecipeDetails recipe_details = 1;
}

message CreateContainerRequest {
    Container container = 1;
}

message CreateContainerResponse {
  string id = 1;
}

message DeleteContainerRequest {
  string id = 1;
}

message DeleteContainerResponse {
}

message UpdateContainerRequest {
    Container container = 1;
}

message UpdateContainerResponse {
}

message ListContainersRequest {
}

message ListContainersResponse {
    repeated Container containers = 1;
}

message CreateSavedRecipeRequest {
    RecipeDetails recipe = 1;
}

message CreateSavedRecipeResponse {
    string id = 1;
    google.protobuf.Timestamp time = 2;       
}

message GetSavedRecipeRequest {
    string saved_recipe_id = 1;
}

message GetSavedRecipeResponse {
    RecipeDetails recipe = 1;
}

message UpdateSavedRecipeRequest {
    RecipeDetails recipe = 1;
}

message UpdateSavedRecipeResponse {
    google.protobuf.Timestamp time = 2;       
}

message DeleteSavedRecipeRequest {
    string savedRecipeId = 1;
    string recipeId = 2;
}

message DeleteSavedRecipeResponse {
}

message ListSavedRecipesRequest {
  string recipeId = 1;
}

message ListSavedRecipesResponse {
    repeated RecipeDetails recipes = 1;
}

message CreatePackagingRequest {
    Packaging packaging = 1;
}

message CreatePackagingResponse {
  string id = 1;
}

message DeletePackagingRequest {
  string id = 1;
}

message DeletePackagingResponse {
}

message UpdatePackagingRequest {
    Packaging packaging = 1;
}

message UpdatePackagingResponse {
}

message ListPackagingRequest {
}

message ListPackagingResponse {
    repeated Packaging packaging = 1;
}

message ListShippingRequest {
    string container_id = 1; // optional
}

message ListShippingResponse {
    repeated Shipping shipping = 1;
}

message ListAllPackagingRequest {
}

message ListAllPackagingResponse {
    repeated AllPackaging packaging = 1;
}

message CreatePackagingItemRequest {
    AllPackaging packaging = 1;
}

message CreatePackagingItemResponse {
    string id = 1;
}

message GetPackagingItemRequest {
    string id = 1;
    string type = 2;
}
message GetPackagingItemResponse {
    AllPackaging packaging = 1;
}

message UpdatePackagingItemRequest {
    AllPackaging packaging = 1;
}

message UpdatePackagingItemResponse {
}

message DeletePackagingItemRequest {
    string id = 1;
    string type = 2;
}

message DeletePackagingItemResponse {
}

service CanbiocinService {
  rpc CreateIngredient(CreateIngredientRequest) returns (CreateIngredientResponse) {}
  rpc GetIngredient(GetIngredientRequest) returns (GetIngredientResponse) {}
  rpc UpdateIngredient(UpdateIngredientRequest) returns (UpdateIngredientResponse) {}
  rpc DeleteIngredient(DeleteIngredientRequest) returns (DeleteIngredientResponse) {}
  rpc ListIngredients(ListIngredientsRequest) returns (ListIngredientsResponse) {}
  rpc ListProbioticSpp(ListProbioticSppRequest) returns (ListProbioticSppResponse) {}
  rpc ListPrebioticCategory(ListPrebioticCategoryRequest) returns (ListPrebioticCategoryResponse) {}
  rpc CreateRecipe(CreateRecipeRequest) returns (CreateRecipeResponse) {}
  rpc GetRecipe(GetRecipeRequest) returns (GetRecipeResponse) {}
  rpc UpdateRecipe(UpdateRecipeRequest) returns (UpdateRecipeResponse) {}
  rpc DeleteRecipe(DeleteRecipeRequest) returns (DeleteRecipeResponse) {}
  rpc ListRecipes(ListRecipesRequest) returns (ListRecipesResponse) {}
  rpc CalculateRecipe(CalculateRecipeRequest) returns (CalculateRecipeResponse) {} 
  rpc CreateContainer(CreateContainerRequest) returns (CreateContainerResponse) {}
  rpc DeleteContainer(DeleteContainerRequest) returns (DeleteContainerResponse) {}
  rpc UpdateContainer(UpdateContainerRequest) returns (UpdateContainerResponse) {}
  rpc ListContainers(ListContainersRequest) returns (ListContainersResponse) {}

  rpc CreateSavedRecipe(CreateSavedRecipeRequest) returns (CreateSavedRecipeResponse) {}
  rpc GetSavedRecipe(GetSavedRecipeRequest) returns (GetSavedRecipeResponse) {}
  rpc UpdateSavedRecipe(UpdateSavedRecipeRequest) returns (UpdateSavedRecipeResponse) {}
  rpc DeleteSavedRecipe(DeleteSavedRecipeRequest) returns (DeleteSavedRecipeResponse) {}
  rpc ListSavedRecipes(ListSavedRecipesRequest) returns (ListSavedRecipesResponse) {}
  rpc CreatePackaging(CreatePackagingRequest) returns (CreatePackagingResponse) {}
  rpc DeletePackaging(DeletePackagingRequest) returns (DeletePackagingResponse) {}
  rpc UpdatePackaging(UpdatePackagingRequest) returns (UpdatePackagingResponse) {}
  rpc ListPackaging(ListPackagingRequest) returns (ListPackagingResponse) {}
  rpc ListShipping(ListShippingRequest) returns (ListShippingResponse) {}
  rpc ListAllPackaging(ListAllPackagingRequest) returns (ListAllPackagingResponse) {}
  rpc CreatePackagingItem(CreatePackagingItemRequest) returns (CreatePackagingItemResponse) {}
  rpc GetPackagingItem(GetPackagingItemRequest) returns (GetPackagingItemResponse) {}
  rpc UpdatePackagingItem(UpdatePackagingItemRequest) returns (UpdatePackagingItemResponse) {}
  rpc DeletePackagingItem(DeletePackagingItemRequest) returns (DeletePackagingItemResponse) {}


}
